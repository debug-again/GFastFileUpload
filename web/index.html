<html data-ng-app="app">
<head>
    <link href="css/lib/bootstrap.min.css" rel="stylesheet">
    <link href="css/lib/bootstrap-theme.min.css" rel="stylesheet">
    <link href="css/gfast.css" rel="stylesheet">

</head>
<body>

<div ng-controller="csvController">
    <div class="container centered">
        <div style="width: 60%">
            <div class="panel panel-default">
                <div class="panel-heading">Upload CSV</div>
                <div class="panel-body">
                    <div class="col-sm-12">
                        <form class="form-horizontal" role="form" method="post">

                            <div class="form-group">
                                <label class="control-label col-sm-2" for="name">Name</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" ng-model="name" id="name">
                                </div>
                            </div>

                            <div class="form-group">

                                <label class="control-label col-sm-2" for="name">CSV File</label>
                                <div class="col-sm-10">

                                    <div class="input-group">
                                        <span class="input-group-btn">
                                            <span class="btn btn-primary"
                                                  onclick="$(this).parent().find('input[type=file]').click();">
                                                <span class="glyphicon glyphicon-folder-open"></span> &nbsp;Browse
                                            </span>

                                            <input file-model="csvFile"
                                                   onchange="$(this).parent().parent().find('.form-control').html($(this).val().split(/[\\|/]/).pop());"
                                                   style="display: none;" type="file">

                                        </span>
                                        <span class="form-control"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group text-center" style="padding-top: 20px;">
                                <div class="col-sm-4"></div>
                                <div class="col-sm-4">
                                    <button class="btn btn-success btn-block" type="button" ng-click="submitCSVData()"
                                            id="uploadButton"><span class="glyphicon glyphicon-upload"></span> Submit
                                    </button>
                                </div>
                                <div class="col-sm-4"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div ng-if="uploadingInProgress" class="text-center">
                <img src="images/loading.gif" title="Loading in progress.." alt="Loading in progress..">
            </div>

            <div ng-if="uploadSuccess == true">
                <div class="alert alert-success fade in text-center">
                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    File Uploaded Successfully!!
                </div>
            </div>

            <div ng-if="uploadSuccess == false">
                <div class="alert alert-danger fade in text-center">
                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    {{failureReason}}
                </div>
            </div>

        </div>
    </div>
</div>

<script src="js/lib/jquery-3.1.0.min.js"></script>
<script src="js/lib/bootstrap.min.js"></script>
<script src="js/lib/angular.min.js"></script>
<script src="js/gfast.js"></script>

</body>
</html>
